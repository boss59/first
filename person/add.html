<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>缓存添加</title>
	<script src="/jq.js"></script>
</head>
<body>
<marquee><h2><font color="blue">缓存添加</font></h2></marquee>
<center>
	<table border="66">
		<tr>
			<td>用户名：</td>
			<td>
				<input type="text" name="uname">
			</td>
		</tr>
		<tr>
			<td>地址：</td>
			<td>
				<input type="text" name="address">
			</td>
		</tr>
		<tr>
			<td>爱好：</td>
			<td>
				<input type="text" name="hobby">
			</td>
		</tr>
		<tr>
			<td colspan="2" align="center">
				<input type="button" value="添加" name="btn">
			</td>
		</tr>
	</table>
</center>			
</body>
</html>
<script>
$(document).ready(function(){
	$("input[name='btn']").click(function(){
		var data = {};// 定义一个空的json串
		var uname = $("input[name='uname']").val();
		var address = $("input[name='address']").val();
		var hobby = $("input[name='hobby']").val();

		data.uname = uname;
		data.address = address;
		data.hobby = hobby;
		
		$.ajax({
			url:'/person/add.php',//请求地址
			type:'post',//请求的类型
			dataType:'json',//返回的类型
			data:data,//要传输的数据
			success:function(res){ //成功之后回调的方法
				if (res==1) {
					alert("添加成功");
					location.href = "/add.html";
				}else{
					alert("添加失败");
					location.href = "/add.html";
				}
			}
		})
	});
});
</script>
